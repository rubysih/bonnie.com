"use strict";(self.webpackChunktoy_customer=self.webpackChunktoy_customer||[]).push([[652],{7652:(n,e,t)=>{t.r(e),t.d(e,{DrawOutBtn:()=>bn,default:()=>An});var r,i,o,a=t(9616),l=t(6622),c=t(6540),s=t(7513),u=t(7767),d=t(1459),f=t(3783),p=t(4848),m={id:1,commodityId:6,prizeName:"日翻",prizeLevel:0,imgUrl:"C:\\Users\\MSI MAG\\Desktop\\DoRay專案列表\\ToyBackend\\Company.API\\wwwroot\\wwwroot\\PrizeImg\\47b90148-bd59-4cff-a168-044923b8f059_6_日翻",sort:0,size:0,amount:51,reclaimPrice:0,freight:0,isOverAfterSoldOut:!1,createDate:"2024-06-03T05:12:39.01",creator:"測試廠商",editDate:null,editor:null,img:null,introduce:""},y=a.Ay.div(r||(i=["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  img {\n    width: 150px;\n    height: 150px;\n    &:hover {\n      transform: scale(1.03);\n    }\n  }\n  h4 {\n    margin: 10px 0;\n  }\n  div {\n    display: flex;\n    justify-content: space-between;\n    width: 100%;\n    flex-direction: column;\n  }\n"],o||(o=i.slice(0)),r=Object.freeze(Object.defineProperties(i,{raw:{value:Object.freeze(o)}}))));function h(){return(0,p.jsxs)(y,{children:[(0,p.jsx)("img",{src:"https://picsum.photos/411/732",alt:null==m?void 0:m.prizeName}),(0,p.jsx)("h4",{children:null==m?void 0:m.prizeName}),(0,p.jsxs)("div",{children:[(0,p.jsxs)("span",{children:["剩餘數量：",m.amount]}),(0,p.jsxs)("span",{children:["回收價格：",m.reclaimPrice]})]})]})}var x,g=t(7428);function b(n){return b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},b(n)}function j(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function v(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?j(Object(t),!0).forEach((function(e){w(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):j(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function w(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=b(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=b(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==b(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}t(9175);var O,A,z,S=a.Ay.div(x||(x=function(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}(["\n  display: flex;\n  flex-direction: column;\n  img {\n    margin-bottom: 10px;\n    width: 250px;\n    height: auto;\n    max-height: 100%;\n  }\n"]))),P=function(n,e){var t=n.transitionTime+"ms",r="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transform:"scale(0.5) translateX(100%)",transitionTimingFunction:r,msTransitionTimingFunction:r,MozTransitionTimingFunction:r,WebkitTransitionTimingFunction:r,OTransitionTimingFunction:r};return e.swiping||(i=v(v({},i),{},{WebkitTransitionDuration:t,MozTransitionDuration:t,OTransitionDuration:t,transitionDuration:t,msTransitionDuration:t})),{slideStyle:i,selectedStyle:v(v({},i),{},{opacity:1,position:"relative",transform:"scale(1) translateX(0)"}),prevStyle:v(v({},i),{},{transform:"scale(1.2) translateX(-100%)"})}};function T(n){var e=n.data,t=n.setIsAnimationFinished;return(0,p.jsx)(g.FN,{showThumbs:!1,showStatus:!1,showArrows:!1,showIndicators:!1,autoPlay:!0,animationHandler:P,transitionTime:700,onChange:function(n){console.log("onChange",n),n===e.length-1&&(t(!0),console.log("stop"))},children:e.map((function(n){var e=n.imgUrl,t=n.prizeName;return(0,p.jsxs)(S,{children:[(0,p.jsx)("img",{src:e}),t]})}))})}function k(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var I,D,C,E,M,F,U=(0,a.i7)(O||(O=k(["\n  0% {\n    opacity: 0;\n    transform: scale(0.8) translateX(100%);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateX(0);\n  }\n"]))),N=a.Ay.div(A||(A=k(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),_=a.Ay.img(z||(z=k(["\n  animation: "," 1s ease-in-out;\n  width: 250px;\n  height: auto;\n  max-height: 100%;\n  margin-bottom: 10px;\n"])),U);function L(n){var e=n.data,t=e.imgUrl,r=e.prizeName;return(0,p.jsxs)(N,{children:[(0,p.jsx)(_,{src:t}),r]})}function X(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){s=!0,i=n}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(n,e)||function(n,e){if(n){if("string"==typeof n)return B(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?B(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function H(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var R,V,W,Z,$,G,q,J,K,Q,Y,nn,en=a.Ay.div(I||(I=H(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: #000;\n  opacity: 0.8;\n  border-radius: 30px;\n  z-index: 1;\n"]))),tn=a.Ay.div(D||(D=H(["\n  position: absolute;\n  opacity: 1;\n  top: 25vh;\n  width: 60%;\n  left: 20%;\n  z-index: 2;\n  display: flex;\n  min-height: 300px;\n  flex-direction: column;\n  background: #fff;\n  border: 1px solid #aaa;\n  border-radius: 20px;\n  padding: 20px 40px;\n  display: flex;\n"]))),rn=a.Ay.div(C||(C=H(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n"]))),on=(0,a.Ay)(rn)(E||(E=H(["\n  position: relative;\n  top: 0;\n  h3 {\n    margin: 0;\n  }\n"]))),an=(0,a.Ay)(rn)(M||(M=H(["\n  position: relative;\n  bottom: 0;\n  "," {\n    margin: 0;\n  }\n"])),bn),ln=(0,a.Ay)(rn)(F||(F=H(["\n  padding: 20px 0;\n"])));function cn(n){var e=n.isLoading,t=n.data,r=n.onClose,i=X((0,c.useState)(!1),2),o=i[0],a=i[1],l=X((0,c.useState)(!1),2),s=(l[0],l[1]);return e||!t?"抽獎中...":(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)(en,{}),(0,p.jsxs)(tn,{children:[(0,p.jsx)(on,{children:(0,p.jsx)("h3",{children:"抽獎結果"})}),(0,p.jsxs)(ln,{children:[1===t.length?(0,p.jsx)(L,{data:t[0]}):null,t.length>1?(0,p.jsx)(T,{data:t,setIsAnimationFinished:a}):null]}),(0,p.jsxs)(an,{children:[o?(0,p.jsx)(bn,{onClick:function(){return s(!0)},children:"顯示所有"}):null,(0,p.jsx)(bn,{onClick:r,children:"關閉"})]})]})]})}function sn(n,e){if(n){if("string"==typeof n)return un(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?un(n,e):void 0}}function un(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function dn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var fn=a.Ay.div(R||(R=dn(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]))),pn=a.Ay.div(V||(V=dn(["\n  display: flex;\n  margin-bottom: 10px;\n  img {\n    margin-right: 30px;\n    /* height: 100; */\n    width: 500px;\n    &:hover {\n      transform: scale(1.03);\n    }\n  }\n"]))),mn=a.Ay.div(W||(W=dn(["\n  display: flex;\n\n  height: 300px;\n"]))),yn=a.Ay.div(Z||(Z=dn(["\n  display: flex;\n  flex-direction: column;\n  height: 300px;\n  padding: 0 20px;\n"]))),hn=a.Ay.div($||($=dn(["\n  color: #3e3e3e;\n  font-size: 26px;\n  font-weight: 700;\n  margin: 10px 0;\n"]))),xn=a.Ay.div(G||(G=dn([""]))),gn=a.Ay.div(q||(q=dn(["\n  display: flex;\n  flex-direction: row;\n  cursor: pointer;\n  font-size: 12px;\n  ","+"," {\n    margin-left: 10px;\n  }\n"])),xn,xn),bn=a.Ay.div(J||(J=dn(["\n  cursor: pointer;\n  background: #000;\n  color: #f4c221;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0 10px 15px 0;\n  padding: 10px 15px;\n  border-radius: 20px;\n  ","\n"])),(function(n){return n.isMultiDrawOut&&"\n  background: #a80502;\n  color: #fff;\n"})),jn=a.Ay.div(K||(K=dn(["\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n"]))),vn=(0,a.Ay)(jn)(Q||(Q=dn(["\n  flex-direction: column;\n"]))),wn=a.Ay.div(Y||(Y=dn(["\n  color: #ffc107;\n  font-size: 60px;\n  font-weight: 700;\n  margin-right: 10px;\n"]))),On=a.Ay.p(nn||(nn=dn(["\n  color: ",";\n  ","\n  margin:10px 0 0;\n"])),(function(n){return n.warning&&"#a80502"}),(function(n){return n.large&&"font-size: 20px;"}));function An(){var n,e=(0,u.g)(),t=(0,u.Zp)(),r=+e.commodityId,i=(0,s.d)((function(){return s.c.commodity})),o=(0,s.d)((function(){return s.c.isDrawOuting})),a=(0,s.d)((function(){return s.c.drawOutResult})),m=(0,s.d)((function(){return s.c.isLogged})),y=function(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,l=[],c=!0,s=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;c=!1}else for(;!(c=(r=o.call(t)).done)&&(l.push(r.value),l.length!==e);c=!0);}catch(n){s=!0,i=n}finally{try{if(!c&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(s)throw i}}return l}}(n,e)||sn(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}((0,c.useState)(o||a),2),x=y[0],g=y[1];return(0,c.useEffect)((function(){s.c.getCommodity(r)}),[]),(0,c.useEffect)((function(){g(o||a)}),[o,a]),(0,c.useEffect)((function(){var n;i&&(i.prizes||s.c.getPrizes(r),s.c.setBreadCrumbs([].concat(function(n){if(Array.isArray(n))return un(n)}(n=d.ZE.default)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||sn(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[i.category,i.name])))}),[i]),i?(0,p.jsxs)(l.A,{children:[x&&(0,p.jsx)(cn,{isLoading:o,data:a,onClose:function(){g(!1),s.c.clearDrawOutResult()}}),(0,p.jsxs)(pn,{children:[(0,p.jsx)("img",{src:null==i?void 0:i.imgUrl,alt:null==i?void 0:i.name}),(0,p.jsxs)(fn,{children:[(0,p.jsx)(f.A,{category:i.category}),(0,p.jsx)(hn,{children:i.name}),(0,p.jsxs)(gn,{children:[(0,p.jsx)(xn,{onClick:b("prize"),children:"賞品一覽"}),(0,p.jsx)(xn,{onClick:b("description"),children:"商品說明"})]}),(0,p.jsxs)(jn,{children:[(0,p.jsx)(wn,{children:i.drawOut1Price})," /抽"]}),(0,p.jsxs)(vn,{children:[(0,p.jsx)(bn,{onClick:j(1),children:"抽出"}),i.drawOutMultiplePriceStatus&&(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)(bn,{isMultiDrawOut:!0,onClick:j(5),children:["連抽優惠，",i.drawOut5Price," /抽"]}),(0,p.jsxs)(bn,{isMultiDrawOut:!0,onClick:j(10),children:["連抽優惠，",i.drawOut10Price," /抽"]})]})]}),(0,p.jsx)(On,{warning:!0,children:"注意事項："}),(0,p.jsx)(On,{children:"單抽開獎保護300秒，一次多抽 300秒+(30秒x抽數)會累計，保護上限600秒。"}),(0,p.jsx)(On,{warning:!0,large:!0,children:"下單前須知："}),(0,p.jsx)(On,{warning:!0,children:"一番賞、盲盒商品為「線上機率型」商品，一但完成抽獎程序，恕無法接受「退貨及退款」！"}),(0,p.jsx)(On,{warning:!0,children:"除非有品質瑕疵，「收到商品拆封請全程綠影以保護雙方權益」。"}),(0,p.jsx)(On,{warning:!0,children:"商品運送及海關檢驗時可能有盒損、原廠二次膠拆檢等狀況。若您對於盒況有相當高的要求，建議您不要購買！"}),(0,p.jsx)(On,{warning:!0,children:"消費者購買前請「務必」確認我們的消費規範再進行購買，謝謝！"}),i.isValidateDrawOutTimes&&"抽出次數已達上限"]})]}),(0,p.jsx)(mn,{id:"prize",children:null===(n=i.prizes)||void 0===n?void 0:n.map((function(n){return(0,p.jsx)(h,{data:n},n.id)}))}),(0,p.jsx)(yn,{id:"description",dangerouslySetInnerHTML:{__html:i.introduce}})]}):(0,p.jsx)(l.A,{});function b(n){return function(){document.getElementById(n).scrollIntoView({behavior:"smooth"})}}function j(n){var e={commodityId:r,times:n,consecutive:1!==n};return function(){m?s.c.drawOut(e):t(d.Ay.login)}}}}}]);