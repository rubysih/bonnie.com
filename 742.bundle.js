"use strict";(self.webpackChunktoy_customer=self.webpackChunktoy_customer||[]).push([[742],{3742:(n,e,t)=>{t.r(e),t.d(e,{DrawOutBtn:()=>we,default:()=>Pe});var r=t(7554),i=t(6622),o=t(6540),a=t(3511),c=t(7767),l=t(1459),u=t(1215),s=t(9965);const d="/reading-page-poc/assets/src/static/lottery/lottery.png";var f,p,h=t(770),m=t(4848);function x(n){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},x(n)}function y(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),t.push.apply(t,r)}return t}function g(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?y(Object(t),!0).forEach((function(e){b(n,e,t[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):y(Object(t)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(t,e))}))}return n}function b(n,e,t){return(e=function(n){var e=function(n,e){if("object"!=x(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,"string");if("object"!=x(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==x(e)?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function j(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var v=r.Ay.div(f||(f=j(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  padding: 20px;\n  justify-content: space-between;\n  cursor: pointer;\n  img {\n    width: 150px;\n    height: 150px;\n    &:hover {\n      transform: scale(1.03);\n    }\n  }\n  h4 {\n    margin: 8px 0;\n  }\n"]))),w=r.Ay.div(p||(p=j(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  background-color: ",";\n  color: #fff;\n  max-width: 180px;\n  border-radius: 100px;\n  flex-direction: row;\n  padding: 8px;\n  margin-top: 8px;\n"])),(function(n){var e;return(null===(e=s.GB[n.prizeLevel])||void 0===e?void 0:e.color)||"#06b9d4"}));function A(n){var e=n.data,t=n.onClick,r=n.isCommodity,i=(null==e?void 0:e.prizeName)||(null==e?void 0:e.name);return(0,m.jsxs)(v,{onClick:t,children:[(0,m.jsx)("img",{src:null==e?void 0:e.imgUrl,alt:i}),(0,m.jsx)("h4",{children:i}),!r&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("span",{children:["回收價格：",e.reclaimPrice]}),(0,m.jsx)(O,g({},e))]})]})}function O(n){var e=n.prizeLevel,t=n.amount,r=n.fixedAmount;return(0,m.jsxs)(w,{prizeLevel:e,children:[(0,m.jsx)("span",{children:s.GB[e].name}),(0,m.jsxs)("span",{children:[t,"/",r]})]})}var S,z,k=t(824),C=t(9409);function I(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var P,E,D,T=r.Ay.div(S||(S=I(["\n  display: flex !important;\n  flex-direction: column;\n  align-items: center;\n  img {\n    margin-bottom: 10px;\n    width: 270px;\n    height: 270px;\n  }\n"]))),B=(0,r.Ay)(C.A)(z||(z=I(["\n  width: 300px;\n  height: 300px;\n"])));function R(n){var e=n.data,t=n.setIsAnimationFinished;return(0,m.jsx)(B,{autoplay:!0,autoplaySpeed:1800,speed:700,dots:!1,infinite:!1,afterChange:function(n){n===e.length-1&&t(!0)},children:e.map((function(n){var e=n.imgUrl,t=n.prizeName;return(0,m.jsxs)(T,{children:[(0,m.jsx)("img",{src:e}),t]})}))})}function F(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var L,U,M,G,N,$,_=(0,r.i7)(P||(P=F(["\n  0% {\n    opacity: 0;\n    transform: scale(0.8) translateX(100%);\n  }\n  100% {\n    opacity: 1;\n    transform: scale(1) translateX(0);\n  }\n"]))),q=r.Ay.div(E||(E=F(["\n  position: relative;\n  width: 100%;\n  height: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n"]))),V=r.Ay.img(D||(D=F(["\n  animation: "," 1s ease-in-out;\n  width: 250px;\n  height: auto;\n  max-height: 100%;\n  margin-bottom: 10px;\n"])),_);function X(n){var e=n.data,t=e.imgUrl,r=e.prizeName;return(0,m.jsxs)(q,{children:[(0,m.jsx)(V,{src:t}),r]})}function Z(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,c=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(n,e)||function(n,e){if(n){if("string"==typeof n)return H(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?H(n,e):void 0}}(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function H(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function W(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var J,K,Q,Y,nn,en,tn=r.Ay.div(L||(L=W(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  border-radius: ",";\n  z-index: ",";\n"])),(function(n){return n.theme.color.mask}),(function(n){return n.theme.borderRadius.content}),(function(n){return n.theme.zIndex.mask})),rn=r.Ay.div(U||(U=W(["\n  position: absolute;\n  opacity: 1;\n  top: 25vh;\n  width: 80%;\n  left: 10%;\n  z-index: ",";\n  display: flex;\n  min-height: 350px;\n  flex-direction: column;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  padding: 20px 40px 40px;\n  @media (max-width: 768px) {\n    width: 90%;\n    left: 5%;\n  }\n"])),(function(n){return n.theme.zIndex.dialog}),(function(n){return n.theme.color.background}),(function(n){return n.theme.color.dialogBorder}),(function(n){return n.theme.borderRadius.dialogContainer})),on=r.Ay.div(M||(M=W(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n"]))),an=(0,r.Ay)(on)(G||(G=W(["\n  position: relative;\n  top: 0;\n  h3 {\n    margin: 0;\n  }\n"]))),cn=(0,r.Ay)(on)(N||(N=W(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px 0;\n  justify-content: center;\n  * + * {\n    margin-left: 20px;\n  }\n"]))),ln=(0,r.Ay)(on)($||($=W(["\n  padding: 20px 0;\n"])));function un(n){var e=n.isLoading,t=n.data,r=n.onClose,i=Z((0,o.useState)(!1),2),a=i[0],c=i[1],l=Z((0,o.useState)(!1),2),u=l[0],s=l[1];return e||!t?"抽獎中...":(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(tn,{}),(0,m.jsxs)(rn,{children:[(0,m.jsx)(an,{children:(0,m.jsx)("h3",{children:"抽獎結果"})}),(0,m.jsx)(ln,{children:function(){switch(!0){case 1===t.length:return(0,m.jsx)(X,{data:t[0]});case u:return(0,m.jsx)(k.A,{data:t,isBase:!0});case t.length>1:return(0,m.jsx)(R,{data:t,setIsAnimationFinished:c});default:return null}}()}),(0,m.jsxs)(cn,{children:[a&&(0,m.jsx)(we,{onClick:function(){return s(!0)},children:"顯示所有"}),(0,m.jsx)(we,{onClick:r,children:"關閉"})]})]})]})}function sn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function dn(n){var e,t,r=n.initialSeconds,i=n.cb,a=(e=(0,o.useState)(r),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,c=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(e,t)||function(n,e){if(n){if("string"==typeof n)return sn(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?sn(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),c=a[0],l=a[1];return(0,o.useEffect)((function(){if(c>0){var n=setTimeout((function(){l(c-1)}),1e3);return function(){clearTimeout(n)}}i()}),[c]),(0,m.jsx)("div",{children:(0,m.jsxs)("h1",{children:[c," 秒"]})})}function fn(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var pn=r.Ay.div(J||(J=fn(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  border-radius: ",";\n  z-index: ",";\n"])),(function(n){return n.theme.color.mask}),(function(n){return n.theme.borderRadius.content}),(function(n){return n.theme.zIndex.mask})),hn=r.Ay.div(K||(K=fn(["\n  position: absolute;\n  opacity: 1;\n  top: 25vh;\n  width: 60%;\n  left: 20%;\n  z-index: ",";\n  display: flex;\n  min-height: 250px;\n  flex-direction: column;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  padding: 20px 40px 40px;\n  display: flex;\n  @media (max-width: 768px) {\n    width: 90%;\n    left: 5%;\n  }\n"])),(function(n){return n.theme.zIndex.dialog}),(function(n){return n.theme.color.background}),(function(n){return n.theme.color.dialogBorder}),(function(n){return n.theme.borderRadius.dialogContainer})),mn=r.Ay.div(Q||(Q=fn(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n"]))),xn=(0,r.Ay)(mn)(Y||(Y=fn(["\n  position: relative;\n  top: 0;\n  h3 {\n    margin: 0;\n  }\n"]))),yn=(0,r.Ay)(mn)(nn||(nn=fn(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px 0;\n"]))),gn=(0,r.Ay)(mn)(en||(en=fn(["\n  padding: 20px 0;\n"])));function bn(n){var e=n.countdownSec,t=n.onClose;return e?(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(pn,{}),(0,m.jsxs)(hn,{children:[(0,m.jsx)(xn,{children:(0,m.jsx)("h3",{children:"賞品鎖定中，解鎖倒數"})}),(0,m.jsx)(gn,{children:(0,m.jsx)(dn,{initialSeconds:e,cb:t})}),(0,m.jsx)(yn,{children:(0,m.jsx)(we,{onClick:t,children:"關閉"})})]})]}):null}const jn="/reading-page-poc/assets/src/static/draw-out-animation.gif";var vn,wn;function An(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var On=r.Ay.div(vn||(vn=An(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  border-radius: ",";\n  z-index: ",";\n"])),(function(n){return n.theme.color.mask}),(function(n){return n.theme.borderRadius.content}),(function(n){return n.theme.zIndex.mask})),Sn=r.Ay.div(wn||(wn=An(["\n  position: absolute;\n  opacity: 1;\n  top: 25vh;\n  width: 60%;\n  left: 20%;\n  z-index: ",";\n  display: flex;\n  /* min-height: 350px; */\n  flex-direction: column;\n  /* background: ","; */\n  /* border: 1px solid ","; */\n  /* border-radius: ","; */\n  /* padding: 20px 40px 40px; */\n\n  img {\n    width: 100%;\n    height: auto;\n  }\n  @media (max-width: 768px) {\n    width: 90%;\n    left: 5%;\n  }\n"])),(function(n){return n.theme.zIndex.dialog}),(function(n){return n.theme.color.background}),(function(n){return n.theme.color.dialogBorder}),(function(n){return n.theme.borderRadius.dialogContainer}));const zn=function(n){var e=n.src,t=n.onComplete,r=(0,o.useRef)(null);return(0,o.useEffect)((function(){var n=r.current;if(n){var e=function(){var e=n.naturalWidth/1e3*1e3;setTimeout(t,e)};return n.addEventListener("load",e),function(){n.removeEventListener("load",e)}}}),[t]),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(On,{}),(0,m.jsx)(Sn,{children:(0,m.jsx)("img",{ref:r,src:e,alt:"GIF animation"})})]})};var kn,Cn,In,Pn,En,Dn,Tn,Bn,Rn=t(1688);function Fn(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function Ln(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var Un,Mn,Gn,Nn,$n,_n,qn,Vn,Xn,Zn,Hn,Wn,Jn,Kn,Qn,Yn,ne=r.Ay.div(kn||(kn=Ln(["\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: ",";\n  border-radius: ",";\n  z-index: ",";\n"])),(function(n){return n.theme.color.mask}),(function(n){return n.theme.borderRadius.content}),(function(n){return n.theme.zIndex.mask})),ee=r.Ay.div(Cn||(Cn=Ln(["\n  position: absolute;\n  opacity: 1;\n  top: 25vh;\n  width: 60%;\n  left: 20%;\n  z-index: ",";\n  display: flex;\n  min-height: 250px;\n  flex-direction: column;\n  background: ",";\n  border: 1px solid ",";\n  border-radius: ",";\n  padding: 20px 40px 40px;\n  display: flex;\n  @media (max-width: 768px) {\n    width: 90%;\n    left: 5%;\n  }\n"])),(function(n){return n.theme.zIndex.dialog}),(function(n){return n.theme.color.background}),(function(n){return n.theme.color.dialogBorder}),(function(n){return n.theme.borderRadius.dialogContainer})),te=r.Ay.div(In||(In=Ln(["\n  display: flex;\n  justify-content: space-around;\n  width: 100%;\n"]))),re=(0,r.Ay)(te)(Pn||(Pn=Ln(["\n  position: relative;\n  top: 0;\n  h3 {\n    margin: 0;\n  }\n"]))),ie=(0,r.Ay)(te)(En||(En=Ln(["\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  margin: 10px 0;\n"]))),oe=(0,r.Ay)(te)(Dn||(Dn=Ln(["\n  padding: 20px 0;\n  flex-direction: column;\n  p {\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n"]))),ae=r.Ay.span(Tn||(Tn=Ln(["\n  color: ",";\n  margin: 0 5px;\n  font-size: 1.2rem;\n"])),(function(n){return n.theme.color.warning})),ce=r.Ay.div(Bn||(Bn=Ln(["\n  display: flex;\n  flex-direction: row;\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin-left: 10px;\n"])));function le(n){var e,t,r=n.data,i=n.onClose,a=n.onSubmit,c=r.req,l=r.totalDrawOutTimes,u=r.totalCost,s=r.category,d=(e=(0,o.useState)(!1),t=2,function(n){if(Array.isArray(n))return n}(e)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,c=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(e,t)||function(n,e){if(n){if("string"==typeof n)return Fn(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Fn(n,e):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),f=d[0],p=d[1];return f?(0,m.jsx)(zn,{src:jn,onComplete:function(){setTimeout((function(){p(!1),i()}),1200)}}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(ne,{}),(0,m.jsxs)(ee,{children:[(0,m.jsx)(re,{children:(0,m.jsx)("h3",{children:"抽獎確認"})}),(0,m.jsxs)(oe,{children:[(0,m.jsxs)("p",{children:["目前剩餘",(0,m.jsx)(ae,{children:l}),"抽"]}),(0,m.jsxs)("p",{children:["連抽次數",(0,m.jsx)(ae,{children:c.times}),"抽"]}),(0,m.jsxs)("p",{children:["共花費",(0,m.jsxs)(ce,{children:[(0,m.jsx)(Rn.A,{category:s}),u]})]}),(0,m.jsx)("p",{children:(0,m.jsx)(ae,{children:"代幣不足會使用紅利折扣"})})]}),(0,m.jsxs)(ie,{children:[(0,m.jsx)(we,{onClick:i,children:"關閉"}),(0,m.jsx)(we,{onClick:function(){p(!0),a(c)},children:"確認"})]})]})]})}function ue(n){return function(n){if(Array.isArray(n))return fe(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||de(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function se(n,e){return function(n){if(Array.isArray(n))return n}(n)||function(n,e){var t=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=t){var r,i,o,a,c=[],l=!0,u=!1;try{if(o=(t=t.call(n)).next,0===e){if(Object(t)!==t)return;l=!1}else for(;!(l=(r=o.call(t)).done)&&(c.push(r.value),c.length!==e);l=!0);}catch(n){u=!0,i=n}finally{try{if(!l&&null!=t.return&&(a=t.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(n,e)||de(n,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function de(n,e){if(n){if("string"==typeof n)return fe(n,e);var t={}.toString.call(n).slice(8,-1);return"Object"===t&&n.constructor&&(t=n.constructor.name),"Map"===t||"Set"===t?Array.from(n):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?fe(n,e):void 0}}function fe(n,e){(null==e||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function pe(n,e){return e||(e=n.slice(0)),Object.freeze(Object.defineProperties(n,{raw:{value:Object.freeze(e)}}))}var he=r.Ay.div(Un||(Un=pe(["\n  display: flex;\n  flex-direction: column;\n  flex: 1;\n"]))),me=r.Ay.div(Mn||(Mn=pe(["\n  width: 500px;\n  height: 500px;\n  border: 10px solid #331212;\n  margin-right: 20px;\n  ","\n  @media (max-width: 768px) {\n    margin-right: 0;\n    margin-bottom: 20px;\n    width: 100%;\n    max-height: 500px;\n  }\n"])),(function(n){return n.img&&"background: url('".concat(n.img,"') no-repeat center/cover;")})),xe=r.Ay.div(Gn||(Gn=pe(["\n  display: flex;\n  margin-bottom: 10px;\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]))),ye=r.Ay.div(Nn||(Nn=pe(["\n  display: flex;\n  height: 300px;\n  width: 100%;\n  overflow-x: auto;\n"]))),ge=r.Ay.div($n||($n=pe(["\n  display: flex;\n  flex-direction: column;\n  padding: 0 20px;\n"]))),be=r.Ay.div(_n||(_n=pe(["\n  color: #3e3e3e;\n  font-size: 1.5rem;\n  font-weight: 700;\n  margin: 10px 0;\n"]))),je=r.Ay.div(qn||(qn=pe([""]))),ve=r.Ay.div(Vn||(Vn=pe(["\n  display: flex;\n  flex-direction: row;\n  cursor: pointer;\n  font-size: 0.75rem;\n  ","+"," {\n    margin-left: 10px;\n  }\n"])),je,je),we=r.Ay.div(Xn||(Xn=pe(["\n  cursor: pointer;\n  background: #000;\n  color: ",";\n  font-size: 1rem;\n  font-weight: 600;\n  padding: 8px 12px;\n  text-align: center;\n  border-radius: 10px;\n  ","\n"])),(function(n){return n.theme.color.orange}),(function(n){return n.isMultiDrawOut&&"\n  background: #a80502;\n  color: #fff;\n"})),Ae=r.Ay.div(Zn||(Zn=pe(["\n  display: flex;\n  flex-direction: row;\n  align-items: baseline;\n"]))),Oe=(0,r.Ay)(Ae)(Hn||(Hn=pe(["\n  flex-direction: column;\n  "," {\n    margin: 0 10px 15px 0;\n  }\n"])),we),Se=r.Ay.div(Wn||(Wn=pe(["\n  color: #ffc107;\n  font-size: 3.75rem;\n  font-weight: 700;\n  margin-right: 10px;\n"]))),ze=r.Ay.p(Jn||(Jn=pe(["\n  color: ",";\n  ","\n  margin:10px 0 0;\n"])),(function(n){return n.warning&&n.theme.color.warning}),(function(n){return n.large&&"font-size: 1.25rem;"})),ke=r.Ay.div(Kn||(Kn=pe(["\n  padding: 0 20px;\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: flex-start;\n  width: 100%;\n"]))),Ce=r.Ay.div(Qn||(Qn=pe(["\n  width: 20%;\n  display: flex;\n  padding: 5px;\n  background-color: ",";\n  cursor: ",";\n  img {\n    width: 100%;\n  }\n"])),(function(n){return n.isSelected?"#f4c221":"#fff"}),(function(n){return n.enableDrawOut?"pointer":"default"})),Ie=r.Ay.div(Yn||(Yn=pe(["\n  display: flex;\n  justify-content: center;\n  width: 100%;\n  flex-direction: row;\n  margin: 10px 0;\n  "," {\n    margin: 0 10px;\n  }\n  .ant-radio-button-wrapper-checked {\n    z-index: 0 !important;\n  }\n"])),we);function Pe(){var n,e=(0,c.g)(),t=(0,c.Zp)(),r=+e.commodityId,f=(0,a.d)((function(){return a.c.commodity})),p=(0,a.d)((function(){return a.c.isDrawOuting})),x=(0,a.d)((function(){return a.c.drawOutResult})),y=(0,a.d)((function(){return a.c.countdownSec})),g=(0,a.d)((function(){return a.c.isLogged})),b=se((0,o.useState)(p||x),2),j=b[0],v=b[1],w=se((0,o.useState)(1),2),O=w[0],S=w[1],z=se((0,o.useState)([]),2),k=z[0],C=z[1],I=se((0,o.useState)(!1),2),P=I[0],E=I[1],D=se((0,o.useState)(),2),T=D[0],B=D[1],R=se((0,o.useState)(!1),2),F=R[0],L=R[1],U=se((0,o.useState)(),2),M=U[0],G=U[1],N=(null==f?void 0:f.drawOutMultiplePriceStatus)?[{value:1,label:"單抽"},{value:5,label:"五連抽"},{value:10,label:"十連抽"}]:[{value:1,label:"單抽"}];return(0,o.useEffect)((function(){a.c.getCommodity(r)}),[]),(0,o.useEffect)((function(){C([])}),[O]),(0,o.useEffect)((function(){v(p||x)}),[p,x]),(0,o.useEffect)((function(){P&&$("lottery")()}),[P]),(0,o.useEffect)((function(){f&&(f.prizes||a.c.getPrizes(r),G(f),a.c.setBreadCrumbs([].concat(ue(l.ZE.default),[f.category,f.name])))}),[f]),f?(0,m.jsxs)(i.A,{children:[j&&!T&&(0,m.jsx)(un,{isLoading:p,data:x,onClose:function(){v(!1),a.c.clearDrawOutResult()}}),(0,m.jsx)(bn,{countdownSec:y,onClose:a.c.clearCountdownSec}),T&&(0,m.jsx)(le,{data:T,onClose:function(){return B(!1)},onSubmit:a.c.drawOut}),(0,m.jsxs)(xe,{children:[(0,m.jsx)(me,{img:null==M?void 0:M.imgUrl}),(0,m.jsxs)(he,{children:[(0,m.jsx)(u.A,{name:f.manufacturerName}),(0,m.jsx)(be,{children:f.name}),(0,m.jsxs)(ve,{children:[(0,m.jsx)(je,{onClick:$("prize"),children:"賞品一覽"}),(0,m.jsx)(je,{onClick:$("description"),children:"商品說明"})]}),(0,m.jsxs)(Ae,{children:[(0,m.jsx)(Se,{children:f.drawOut1Price})," /抽"]}),(0,m.jsxs)(Oe,{children:[(0,m.jsx)(we,{onClick:function(){if(!g)return t(l.Ay.login);L(!0),E(!0)},children:"開抽"}),(0,m.jsx)(we,{onClick:function(){return E(!0)},children:"檢視抽況"})]}),(0,m.jsx)(ze,{warning:!0,children:"注意事項："}),(0,m.jsx)(ze,{children:"單抽開獎保護300秒，一次多抽 300秒+(30秒x抽數)會累計，保護上限600秒。"}),(0,m.jsx)(ze,{warning:!0,large:!0,children:"下單前須知："}),(0,m.jsx)(ze,{warning:!0,children:"一番賞、盲盒商品為「線上機率型」商品，一但完成抽獎程序，恕無法接受「退貨及退款」！"}),(0,m.jsx)(ze,{warning:!0,children:"除非有品質瑕疵，「收到商品拆封請全程綠影以保護雙方權益」。"}),(0,m.jsx)(ze,{warning:!0,children:"商品運送及海關檢驗時可能有盒損、原廠二次膠拆檢等狀況。若您對於盒況有相當高的要求，建議您不要購買！"}),(0,m.jsx)(ze,{warning:!0,children:"消費者購買前請「務必」確認我們的消費規範再進行購買，謝謝！"}),f.isValidateDrawOutTimes&&"抽出次數已達上限"]})]}),(0,m.jsxs)(ye,{id:"prize",children:[M!==f&&(0,m.jsx)(A,{data:f,onClick:function(){return G(f)},isCommodity:!0}),null===(n=f.prizes)||void 0===n?void 0:n.map((function(n){return(0,m.jsx)(A,{data:n,onClick:function(){return G(n)}},n.id)}))]}),P&&(0,m.jsxs)(m.Fragment,{children:[F&&(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(Ie,{children:(0,m.jsx)(h.Ay.Group,{onChange:function(n){return S(n.target.value)},value:O,optionType:"button",options:N})}),(0,m.jsxs)(Ie,{children:[O>1&&(0,m.jsx)(we,{onClick:function(){return C([])},children:"重新選擇"}),(0,m.jsx)(we,{onClick:_,children:"送出"})]})]}),(0,m.jsx)(ke,{id:"lottery",children:f.prizeIndexs.map((function(n,e){var t;if(!n)return(0,m.jsx)(Ee,{index:e,src:d,enableDrawOut:F,onClick:q,isSelected:k.includes(e)},e);var r=(null===(t=s.GB[null==n?void 0:n.prizeLevel])||void 0===t?void 0:t.img)||d;return(0,m.jsx)(Ee,{index:e,src:r},e)}))}),F&&(0,m.jsxs)(Ie,{children:[O>1&&(0,m.jsx)(we,{onClick:function(){return C([])},children:"重新選擇"}),(0,m.jsx)(we,{onClick:_,children:"送出"})]})]}),(0,m.jsx)(ge,{id:"description",dangerouslySetInnerHTML:{__html:null==M?void 0:M.introduce}})]}):(0,m.jsx)(i.A,{});function $(n){return function(){document.getElementById(n).scrollIntoView({behavior:"smooth"})}}function _(){var n={commodityId:r,times:O,consecutive:1!==O,chooseIndexes:k};$("header")(),B({req:n,category:f.category,totalDrawOutTimes:f.totalDrawOutTimes,totalCost:V(O,f)})}function q(n){if(k.length!==O){var e=ue(k),t=k.findIndex((function(e){return e===n}));t>-1?e.splice(t,1):e.push(n),C(e)}else 1===O&&C([n])}function V(n,e){return 5===n?n*e.drawOut5Price:10===n?n*e.drawOut10Price:e.drawOut1Price}}function Ee(n){var e=n.src,t=n.index,r=n.enableDrawOut,i=void 0!==r&&r,o=n.onClick,a=n.isSelected;return(0,m.jsx)(Ce,{enableDrawOut:i,onClick:function(){i&&(null==o||o(t))},isSelected:a,children:(0,m.jsx)("img",{src:e})})}}}]);